<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1, user-scalable=no, viewport-fit=cover, height=device-height" />
    <title>Favilla's NY Pizza | Authentic Italian Pizza in Asheville</title>
    <meta name="description" content="Favilla's NY Pizza serves authentic Italian pizza in Asheville, voted the best pizza in town. Order online for pickup or delivery today!" />
    <meta property="og:title" content="Favilla's NY Pizza | Authentic Italian Pizza in Asheville" />
    <meta property="og:description" content="Authentic NY style pizza made with love by a real Italian family in Asheville. Order online for pickup or delivery." />
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://favillaspizzeria.com" />
    
    <!-- Content Security Policy for Google Sign-In and Stripe -->
    <meta http-equiv="Content-Security-Policy" content="
      default-src 'self';
      script-src 'self' 'unsafe-inline' 'unsafe-eval' https://apis.google.com https://accounts.google.com https://www.gstatic.com https://js.stripe.com https://www.google.com;
      style-src 'self' 'unsafe-inline' https://fonts.googleapis.com;
      font-src 'self' https://fonts.gstatic.com;
      img-src 'self' data: https:;
      connect-src 'self' https://apis.google.com https://accounts.google.com https://api.stripe.com https://www.google.com;
      frame-src 'self' https://accounts.google.com https://js.stripe.com https://hooks.stripe.com https://www.google.com;
      child-src 'self' https://accounts.google.com https://www.google.com;
    ">
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,700;1,400&family=Montserrat:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Google Sign-In Configuration -->
    <meta name="google-signin-client_id" content="195346900975-jtncf56nht40kp3ik9oncc4fkm6b46hd.apps.googleusercontent.com">
    
    <!-- Google Platform Library -->
    <script src="https://apis.google.com/js/platform.js" async defer></script>
    
    <!-- Google Sign-In Debug -->
    <script>
      // Debug Google Sign-In loading
      window.addEventListener('load', function() {
        console.log('Page loaded, checking Google Sign-In...');
        
        // Wait for Google Platform Library to fully load
        const checkGoogleAPI = () => {
          if (typeof gapi !== 'undefined') {
            console.log('✅ Google Platform Library loaded');
            
            // Check if auth2 is available
            if (gapi.auth2) {
              console.log('✅ Google Auth2 API available');
            } else {
              console.log('❌ Google Auth2 API not available, waiting...');
              // Wait a bit more for auth2 to load
              setTimeout(checkGoogleAPI, 500);
              return;
            }
          } else {
            console.log('❌ Google Platform Library not loaded, waiting...');
            setTimeout(checkGoogleAPI, 500);
            return;
          }
          
          // Check meta tag
          const metaTag = document.querySelector('meta[name="google-signin-client_id"]');
          if (metaTag) {
            const clientId = metaTag.getAttribute('content');
            console.log('✅ Google Client ID meta tag found:', clientId);
          } else {
            console.log('❌ Google Client ID meta tag not found');
          }
          
          // Check for Google Sign-In buttons
          const googleButtons = document.querySelectorAll('.g-signin2');
          console.log('Google Sign-In buttons found:', googleButtons.length);
          
          // Check if callback function is defined
          if (typeof window.onGoogleSignIn === 'function') {
            console.log('✅ Google Sign-In callback function defined');
          } else {
            console.log('❌ Google Sign-In callback function not defined');
          }
        };
        
        // Start checking
        checkGoogleAPI();
      });
    </script>
  </head>
  <body>
    <div id="root"></div>
    <script type="module" src="/src/main.tsx"></script>
  </body>
</html>
